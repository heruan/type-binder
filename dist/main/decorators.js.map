{"version":3,"sources":["../../src/main/decorators.ts"],"names":[],"mappings":";AAAA,4BAA0B;AAE1B,8CAAgD;AAEhD,cAAqB,IAAS;IAAE,kBAAkB;SAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;QAAlB,iCAAkB;;IAC9C,MAAM,CAAC,UAAC,MAAgB,EAAE,GAAW;QACjC,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;QACnE,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACtB,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,kBAAkB,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;QACnF,CAAC;IACL,CAAC,CAAC;AACN,CAAC;AAPD,oBAOC;AAED;IAAyB,kBAAkB;SAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;QAAlB,6BAAkB;;IACvC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,EAAE,QAAQ,CAAC,CAAC;AACvE,CAAC;AAFD,4BAEC;AAED,eACQ,iBAAoE,EACpE,gBAAkD;IADlD,kCAAA,EAAA,8BAAgD,EAAE,EAAE,EAAE,IAAK,OAAA,EAAE,KAAK,EAAE,EAAT,CAAS;IACpE,iCAAA,EAAA,6BAAoC,KAAK,IAAI,OAAA,KAAK,EAAL,CAAK;IACtD,MAAM,CAAC,UAAC,MAAgB,EAAE,GAAW;QACjC,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,0BAA0B,EAAE,iBAAiB,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;QAChG,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,mBAAmB,EAAE,gBAAgB,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;IAC5F,CAAC,CAAC;AACN,CAAC;AAPD,sBAOC;AAED,uBACQ,iBAAoE,EACpE,gBAAyE;IADzE,kCAAA,EAAA,8BAAgD,EAAE,EAAE,EAAE,IAAK,OAAA,EAAE,KAAK,EAAE,EAAT,CAAS;IACpE,iCAAA,EAAA,6BAAyC,QAAQ,IAAI,OAAA,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,EAApB,CAAoB;IAC7E,MAAM,CAAC,UAAC,MAAgB,EAAE,GAAW;QACjC,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,4BAA4B,EAAE,iBAAiB,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;QAClG,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;IAC9F,CAAC,CAAC;AACN,CAAC;AAPD,sCAOC;AAED,oBAA8B,UAAmD,EAAE,KAAW;IAC1F,MAAM,CAAC,UAAC,MAAgB;QACpB,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,mBAAmB,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;QAC7E,OAAO,CAAC,cAAc,CAAC,YAAY,CAAC,qBAAqB,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAC9E,CAAC,CAAC;AACN,CAAC;AALD,gCAKC","file":"decorators.js","sourcesContent":["import \"reflect-metadata\";\nimport { TypeBinder } from \"./type-binder\";\nimport * as metadataKeys from \"./metadata-keys\";\n\nexport function bind(type: any, ...generics: any[]): PropertyDecorator {\n    return (target: Function, key: string) => {\n        Reflect.defineMetadata(metadataKeys.designType, type, target, key);\n        if (generics.length > 0) {\n            Reflect.defineMetadata(metadataKeys.designGenericTypes, generics, target, key);\n        }\n    };\n}\n\nexport function generics(...generics: any[]): PropertyDecorator {\n    return Reflect.metadata(metadataKeys.designGenericTypes, generics);\n}\n\nexport function track<V>(\n        comparingCallback: (v1: V, v2: V) => boolean = (v1, v2) => v1 === v2,\n        trackingCallback: (value: V) => V = value => value): PropertyDecorator {\n    return (target: Function, key: string) => {\n        Reflect.defineMetadata(metadataKeys.binderPropertyTrackCompare, comparingCallback, target, key);\n        Reflect.defineMetadata(metadataKeys.binderPropertyTrack, trackingCallback, target, key);\n    };\n}\n\nexport function trackIterable<V, I extends Iterable<V>>(\n        comparingCallback: (v1: V, v2: V) => boolean = (v1, v2) => v1 === v2,\n        trackingCallback: (iterable: I) => V[] = iterable => Array.from(iterable)): PropertyDecorator {\n    return (target: Function, key: string) => {\n        Reflect.defineMetadata(metadataKeys.binderPropertyEntriesCompare, comparingCallback, target, key);\n        Reflect.defineMetadata(metadataKeys.binderPropertyEntries, trackingCallback, target, key);\n    };\n}\n\nexport function identifier<T>(identifier: (object: T, binder?: TypeBinder) => any, scope?: any): ClassDecorator {\n    return (target: Function) => {\n        Reflect.defineMetadata(metadataKeys.binderIdentifierKey, identifier, target);\n        Reflect.defineMetadata(metadataKeys.binderIdentifierScope, scope, target);\n    };\n}\n"]}